<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
        <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"></script>
        <script type="text/javascript" src="../../target/crossview.js"></script>

        <!-- Stylesheet -->
        <link href="twitter.css" rel="stylesheet" type="text/css" />

        <!-- Simple MVVM mapping -->
        <link href="mapping.json" rel="crossview-mapping" type="application/json" />
        
        <style type="text/css">
            .crossview-fetching:before {
                content: "Loading";
            }
            
            .crossview-fetching {
                color: gray;
            }
            
            body > div {
                margin: 1em;
                background: #eeffee;
                padding: 1em;
            }
            
            body > div > h3 {
                margin-top: 0;
            }
        </style>
    </head>
    <body>
        <h1>Assert CSS Loading</h1>
        <p>This tests if CSS has been changed.</p>
        <hr/>
        <!-- A form whose submission trigger rendering of #twitter -->
        <form method="get"
              action="http://search.twitter.com/search.json"
              data-fetch-mode="yql"
              data-form-render="twitter,resultInfo"
              data-form-render-mode="replace">
            <div class="item">
                <label for="query">Query:</label>
                <input id="query" name="q" value="javascript mvvm" />
            </div>
            <input type="hidden" name="rpp" value="5" />
            <input type="hidden" name="include_entities" value="true" />
            <input type="hidden" name="with_twitter_user_id" value="true" />
            <input type="hidden" name="result_type" value="recent" />
            <div class="item">
                <label for="language">Language:</label>
                <input id="language" name="lang" />
            </div>
            <input type="submit" />
            <input type="reset" />
        </form>

        <!-- This test without json path -->
        <div id="resultInfo" data-view="twitterResultInfoView">
            Nothing here...
        </div>

        <!-- This is a more complex view -->
        <div id="twitter"
             data-json-path="results"
             data-json-url="http://search.twitter.com/search.json?q=javascript+mvvm&rpp=5&include_entities=true&with_twitter_user_id=true&result_type=mixed"            
             data-json-path="results"
             data-fetch-mode="yql"             
             data-view="twitterView">
            <!-- Twitter data will come here -->
            Please, submit form.
        </div>
        
    </body>
</html>
