<!DOCTYPE html>
<html>
	<head>
		<title>jPresenter - Model, View, View-Model</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
		<script type="text/javascript" src="http://borismoore.github.com/jsviews/jsrender.js"></script>
		<script type="text/javascript" src="../../src/crossview.js"></script>
 		<link href="mapping.json" rel="mvvm-mapping" type="application/json" />
 		<link href="exemplo.css" rel="stylesheet" type="style/css" />
	</head>
	<body>
		<!-- Exemplo de um contexto de apresentação usando um view-model -->
		<div data-viewmodel="testeVM">
			<h3>Exemplo de um View-Model</h3>
			
			<!-- Área reservada para renderização da view -->
			<div data-view="testeView"></div>
			
			<!-- Botão que executa o comando testar -->
			<button data-command="testar">Primeiro teste</button>
		</div>
		
		
		<!-- Exemplo de um outro contexto de apresentação usando o mesmo view-model -->
		<div data-viewmodel="testeVM">
			<h3>Exemplo de um mesmo View-Model, porém em contexto separado</h3>
			<div data-view="testeView"></div>
			<button data-command="testar">Segundo teste</button>
		</div>
		
				
		<!-- Exemplo de renderização por meio de URL Fetching (sem view-model, apesar de que também é suportado) -->
		<hr>
		<div id="proximaReuniaoPlenario">
			<h3><span>Exemplo de JSON URL Fetching - Reunião de Plenário</span></h3>
			<div data-json-url="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20xml%20where%20url%3D%22http%3A%2F%2Fwww2.almg.gov.br%2Fws%2Fplenario%2Freunioes%2Fpesquisa%3Ford%3D0%22%20%20and%20itemPath%3D%22%2F%2FresultadoPesquisaReunioesPlenario%2FlistaReuniaoPlenario%2FreuniaoPlenario%22&format=json"
				 data-json-path="query.results.reuniaoPlenario"
				 data-view="reuniaoPlenarioView">
				 <!--
				 	  Apenas para ficar mais clara a URL, estou usando o serviço YQL do Yahoo
				      para realizar consulta JSON com suporte a Cross-Site:
				      
				      Parâmetro usado na querystring do YQL:
				      select * from xml where url="http://www2.almg.gov.br/ws/plenario/reunioes/pesquisa?ord=0" and itemPath="//resultadoPesquisaReunioesPlenario/listaReuniaoPlenario/reuniaoPlenario"
				   -->
			</div>
		</div>
	</body>
</html>